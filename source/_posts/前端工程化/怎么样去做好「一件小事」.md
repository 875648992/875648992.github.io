---
title: 怎么样去做好「一件小事」
tags: []
date: 2022-11-11 12:41:09
categories: [前端工程化]
---


# 前置

工作中一些会收到做事「不细致」「不认真」的一些反馈，但是单纯从字面角度可能很难理解，觉得自己把代码认真写完了，代码也很整洁，感觉已经很认真了。为什么会有这样的反馈呢？而且对这种反馈也不太知道怎么去改进。

其实很多工程师对「做事细致」存在一个误解，认为自己的工作只有写代码这一件事，只要能完成团队交给自己的任务就是做好了。但一个 Feature / BugFix / Project 都涉及了前期调研、技术实施、推动上线、总结复盘等多个环节，代码编写只是技术实施这一步，在其他地方的纰漏和粗心大意就会收到这样的反馈了。

此外目前公司内部可能相关方面建设也相对缺乏，所以就要我们形成相关的意识。这篇文档正是用一些过往经验想在这方面给大家一个参考，应该怎么样去做好「一件小事」。

# 方法论

无论是 Feature 还是项目，生命周期大抵都跟下图一样，分为四步：

1. 立项：明确做这件事的原因，比如提升 XX 的效率，提升 YY 的性能
2. 实施：对解决问题的方案进行设计并实施
3. 落地：推动我们所做的工作上线，或者在业务团队中使用
4. 总结：明确我们所做的 Feature 是不是真的解决了问题，根据落地过程中的反馈重新推动实施



下面我们分不同的阶段讨论一下应该如何把事情做好。

# 立项

立项是一个非常考验大家「工作能力」的事情。因为立项的难点在于「信息获取」，即如何通过「搜索引擎」「和他人沟通」等多种方法，获取到充足的信息来帮助自己完成第一版的决定。

> 谨记：在各行各业，只要你还在工作，信息获取能力永远都是工作能力之首。



一个正式的立项要经历，充分的信息搜索，进行足够的思考和一定实践，让慢工出细活。

#### **怎样做信息获取？**

在这一步我们要找的信息是「有没有人遇到过类似的问题」「大家有什么类似的解决方案」，为后续的方案设计打一定的基础。这里千万不要潦草随意，禁忌「盲目自信」，翻了翻 Github ，翻了翻一些内外网的文档，通过一些片面的信息就确定了自己要怎么干，甚至跳过了后续的和他人讨论的阶段，直接开始写代码。这样非常有可能因为信息不充分导致自己做的决策是错误的，白白浪费了自己的时间。

信息获取的方法有大概这样几种：

方法一：聊。和相关的同学进行沟通是一个非常有效的手段，业务同学、自己的 mentor 或者在闲聊吹水的群里随便聊。聊也不一定要在内部，只要不涉及公司业务和保密内容，也可以在外网（discord 等）渠道沟通。

方法二：搜。搜索要拿出娱乐记者搞八卦的劲头来，穷尽各种可能的渠道去获取信息。下面给大家列举几个：

1. 通用搜索： Google / Stackoverflow / Reddit / Twitter / 知乎
2. 代码搜索： Github
3. 内网搜索： 文档 / 群聊记录 / 一些技术官网

方法三：攒。前面讲到的两个都是在出现问题的时候，主动去获取信息的手段。但所有的信息都等待遇到问题的时候再去获取，是不容易获取到全面的信息的。所以在平常就要注意积累，例如看到的 Github 的 issue，关联的东西可以自己留意一下；还有很多的知识在书本、在课程视频里面，在平常多去阅读，构建自己的知识体系，提升自己的技术视野，在将来遇到问题的时候思路才会更加广阔。也更容易出现灵光一闪的瞬间。

#### 怎样分析问题？

收集信息是第一步，那么对信息进行处理就是第二步，在方案设计这一步中主要有「问题抽象」 > 「多方案设计」 > 「POC」。

先带大家了解一个简单的例子：

📌

拿 Polyfill 举例，当代浏览器和用户设备的发展，对 JavaScript 最新的语法已经支持的越来越好了，但是为了兼容用户群体中最低端的那一部分，我们需要 90% 的用户也加载 Polyfill 这个好像并不合理。为了提升绝大多数用户的性能体验，我们对 Polyfill 这个问题抽象为「如何在尽可能多的设备上执行尽可能少的 Polyfill 代码」。带着这个问题设计方案，我们需要考虑如何识别环境，如何根据环境不同加载不同的资源（空资源也是一种特殊的资源），所以在客户端侧通过识别用户的浏览器环境，将 polyfill 的资源链接映射成空链接就可以提升高端设备的执行性能。最后一步就是写个 Demo 验证这件事的可行性。

有前面这个真实的例子之后，理解后面的方法论大家应该也比较好理解了。

#### **怎么抽象问题？**

我自己感受下来，对「抽象」这个词大家的理解是不尽相同的，在这里我说一些自己的感受。抽象的核心是寻找规律和特征。抽象能力和设计能力很像，没有一套公式能够让你成为专家，只有多多练习才能提升。

当然了抽象是一个非常复杂的话题，我们不在这里展开了。

#### 多方案设计与 PoC（Proof of Concept）

方案设计应该大家都会吧。

很多优秀的工程师可能在这个阶段开始之前，就已经有了一个初期的想法。那么在立项的过程中，就需要加入自己对于这个方案的思考，并且在多个方案之间进行充分的对比。想清楚，自己做这件事到底怎么不一样的解决了什么问题。

# 实施

实施阶段就是指在完成立项之后，进入 Coding 阶段（干活的阶段）。那么怎么算是写好了一段代码？这个事情的衡量的标准：「一个能通过面试的实习生，能在多长时间接手这段代码？」

**怎么接手一段代码**

**功能：**

有渠道要首先要了解这段代码的功能，这样才知道这段代码要做什么事情，自己内心对于功能的实现也会有一些初步的想法

**测试用例：**

看他的测试用例，通过测试用例上的输入输出可以知道这段代码的作用是什么的同时并且可以通过一些边界 case 知道他曾经遇到过什么样的问题，比如在 babel 的 system js 插件中[这段代码](https://github.com/babel/babel/tree/main/packages/babel-plugin-transform-modules-systemjs/test/fixtures/allow-top-level-this/false)，就说明了 SystemJS 中 Top Level 的 this 应该被翻译成 undefined。

**阅读源码实现：**

在了解完测试用例之后，会开始正式看源码，找到代码的入口（entry），根据入口看看程序的启动逻辑，看看程序的模块关系，遇到一些看不太懂的逻辑，就会需要注释的帮助。


**运行：**

仅仅读代码是不够的，毕竟人脑不是编译器也不是虚拟机，最后要通过把代码跑起来，一步步调试，这时候就需要一份文档能够解释清楚如何调试。

**健康代码的一些通用标准**

根据上面这段讲解的思路，一段代码是不是易于被他人理解、学习和维护，有几个要求：

1. TDD：无论是 e2e 还是 UT 都要保证代码有自动化的测试。
2. 注释：在代码中总会有一个 hack 的逻辑，神奇的代码绕过神奇的 bug，写好注释利人利己。
3. README：在文档中，解释清楚代码如何使用和运行，介绍调试的办法。

最后，上面这段只讲解了一段小代码需要注意的事情，在大型软件工程中，还需要清晰的架构分层、模块划分、抽象等等，这些如果大家有兴趣我们换个文章再聊。

# 落地

正如背景所说的，写完代码并不是结束，一个完整的需求需要包含后期的落地推动。落地这件事是很多同学的做的不足的地方。对落地一句话的总结：「用自己实施的结果解决立项时候所发现的问题」。落地的意义有两部分：「消除业务和基建的 Gap」和「证明工作价值」。

**怎么解释落地的意义？**

不如从另一个视角来看这个问题。

在金融行业中，对一家公司 / 行业进行分析的时候，会有一个分析点叫做「[产业链分析](https://en.wikipedia.org/wiki/Value_chain)」。当资方决定买入一家公司的股票的时候，这个分析手段可以帮资方看出当前行业的上下游是什么，这家公司处在什么位置，是不是要最终买入。例如下图是某证券机构评估百度无人车业务的时候分析的产业链结构，不管大家对百度怎么看，只要产业链在发展，上下游都很活跃，百度在这里的位置合理并且能够发挥足够的作用，那么对百度的评价就是「买入」。


同样的道理，我们做出来的一项技术，在公司大前端业务的产业链上处于什么位置，在下一个年度规划的时候是加大、保持还是减少投入，就是在一个个「落地」中表现出来的。

在开头讲到，落地的意义有两部分：「消除业务和基建的 Gap」和「证明工作价值」。消除 Gap 才能让业务使用我们提供的基础服务，我们提供的服务就进入了大前端业务的产业链。

所以落地是一个证明工作价值的过程。

**具体怎么做好落地？**

上面说的比较宏观，下面讲一点实际的，具体到项目上，应该怎么样推进落地。

在一个在项目中应该怎么不断调整我们的技术方案，消除业务和基建的 Gap

落地一定要有结果来证明价值，尤其是业务上的结果，比如能够帮助业务提升开发效率，比如能够提升线上业务的技术指标等等。这里举个例子：

很多同学做的是工具链上的工作，很难直接取得业务上的收益，这种类型的就要通过对业务效率的提升来表示：

当时在支持公司监控SDK的开发，为了减小SDK的体积给接入方带来的负面影响（如加载性能）做了非常多的优化，如class to func、enum to const enum、处理promise等最后使得SDK体积降低逾35%。监控平台上线以后上千业务线进行了接入，帮助重点项目发现和定位异常X例，有效P0报警X起，业务侧通过监控来分析性能优化X%。

void 0

1[1]

1..1

# 复盘

复盘是个形式，复盘对团队来说的意义大于个人。对每一个同学来说，他可能在做事的过程中，就已经形成了清晰的思考，对事情有反思，想到了下一步应该怎么做。但是团队内的同学并不知道这件事在落地过程中遇到什么问题，为什么下一步是做那件事。

我观察到很多团队只在出现事故后才会对事故进行复盘，但实际上复盘的作用远不止于此。复盘是对之前所做事情的沉淀和梳理。

#### 怎么做复盘？

写一份复盘文档就好了。复盘文档采用总分结构，先介绍「整体结果」再介绍「项目过程」，分析一下过程中的「问题」，最后列举一些 Action 即可。



整体部分，主要介绍这件事情的结果，如业务或者技术指标的变化等，最好有数据作为支撑。同时有一些业务反馈的评价就更好了。

过程记录，要记录事情过程中的一些关键节点，如得知一些业务反馈做的技术调整等。这里很关键，大家通过阅读这部分能获得清晰的上下文和背景。

问题总结，我们经常会说一句话，「假如当初 XXX 就好了」，这里就写这些 XXX。

**一些问题**

Q：这样做事情的话，我们的工作节奏会变慢很多，如果面对一些竞争可能会失去优势，应该怎么办呢？

A：很多事情我们要意识到不能图快例如相关基础设施通用能力的搭建，要认真踏实交付出来好的东西，快的话交付出去非常有可能是一堆问题；大家认真做的这些文档和分析一定都会在未来的某一天发挥作用。

Q：文档写的那么长，写那么多文章，是不是卷？

A：首先不要管别人卷不卷，多关注自己，当你想要去完成一件事的时候，是否倾注了心血，把这件事做到有头有尾有始有终，最后只要能产生价值就不是卷；其次文档只是思考的文本表达，这种表现形式能够起到沉淀总结的作用即可，不必过分追求长短，在能把问题说清楚的前提下，喜欢写长一点就写长一点，喜欢写短一点就写短一点。

Q：我拿很多时间去写文档，去做思考，自己的产出变少了？

A：首先文档是工作产出的一部分，文档背后的思考也是。其次工作的数量确实会变少，但追求数量不该是追求极致的同学做事的态度，先把事情的质量做好，不要像土拨鼠一样每天不停的挖新坑。

